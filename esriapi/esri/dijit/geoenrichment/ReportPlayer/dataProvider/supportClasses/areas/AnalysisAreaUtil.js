// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.30/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/dataProvider/supportClasses/areas/AnalysisAreaUtil",["esri/geometry/webMercatorUtils","esri/dijit/geoenrichment/utils/CoordinateUtil"],function(l,e){return{geometryToLatLong:function(a){var b=a.spatialReference.wkid;return b===e.WGS_84_WKID?{STORE_LONG:a.x,STORE_LAT:a.y}:e.isWebMercator(b)?(a=l.xyToLngLat(a.x,a.y),{STORE_LONG:a[0],STORE_LAT:a[1]}):null},populateCombinedAreasInfo:function(a,b){var g={},c={};b.forEach(function(a){a.latitude&&(g[a.latitude]=
1);a.longitude&&(c[a.longitude]=1)});a.name=a.name||b.map(function(a){return a.name}).join(", ");a.shortName=a.shortName||b.map(function(a){return a.shortName||a.name}).join(", ");a.description=a.description||b.map(function(a){return a.description||a.name}).join(", ");a.address=a.address||b.map(function(a){return a.address||a.name}).join(", ");a.latitude=a.latitude||Object.keys(g).join(", ");a.longitude=a.longitude||Object.keys(c).join(", ");return a},groupAreas:function(a){function b(a){var b=a.locationName||
a.name;return{isSingleAreaGroup:!0,label:b,hideGroupLabel:b===(a.shortName||a.name),areas:[a]}}var g=a.combinedAreasInfo&&a.combinedAreasInfo.groups||[],c=[],e=[],h={};a.analysisAreas.forEach(function(d){if(!(a.filter&&!a.filter(d)||d.hidden))if(d.isGrouped){if(!h[d.groupIndex]){var f=g[d.groupIndex],f=h[d.groupIndex]={isRealGroup:!0,label:f.locationName||f.name,areas:[]};e.push(f);c.push(f)}h[d.groupIndex].areas.push(d)}else c.push(b(d))});var k;1===c.length&&c[0].isRealGroup&&(c=c[0].areas.map(b),
e.length=0,k=!0);return{groupInfos:c,isOnlyAreasInOnlyGroup:k}}}});