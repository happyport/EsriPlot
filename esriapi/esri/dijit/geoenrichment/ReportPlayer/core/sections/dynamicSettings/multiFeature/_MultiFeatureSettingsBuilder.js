// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.30/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/sections/dynamicSettings/multiFeature/_MultiFeatureSettingsBuilder",["../../../infographics/InfographicTypes","../../../grid/coreUtils/GridDataUtil","../../../supportClasses/templateJsonUtils/fieldInfo/FieldInfoNameUtil","esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/ElementUsageTypes"],function(d,c,f,g){var e={provideMultiFeatureSettings:function(a){if(!a.viewModel.dynamicReportInfo.isMultiFeature||a.elementUsageType!==g.PAGE_PANEL_SECTION)return null;
var b;a.getTables().some(function(a){if(a.isSingleCelledTable()&&e._checkSingleCelledTable(a)||!a.isMultiFeatureTable()&&e._checkMultiCelledTable(a))return b=!0});return b&&{canSelectFeatures:b}},_checkSingleCelledTable:function(a){var b=a.getFirstCell();if(c.isChartCell(b)&&!b.content.isMultiFeatureChart()||c.isInfographicCell(b)&&(b=b.content.getType(),!d.supportsMultiFeature(b)||(b===d.AREA_DETAILS||b===d.ATTACHMENTS)&&a.viewModel.dynamicReportInfo.attachmentsStore&&a.viewModel.dynamicReportInfo.attachmentsStore.supportsMultipleAreas))return!0},
_checkMultiCelledTable:function(a){if(a.getFieldCells().some(function(b){var a=c.getFieldInfo(b);if(a&&!f.isAreaAttributesFieldInfo(a))return c.isVariableFieldCell(b)}))return!0}};return e});