// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.30/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/supportClasses/map/mobile/MobilePanUtil","dojo/on dojo/dom-class dojo/dom-construct esri/dijit/geoenrichment/utils/DeviceUtil esri/dijit/geoenrichment/utils/TooltipUtil dojo/i18n!esri/nls/jsapi".split(" "),function(f,h,n,p,k,c){var d={};c=c.geoenrichment.dijit.ReportPlayer.ReportPlayer;var g={_tooltips:[],_canShowTooltip:!0,tryShowTooltip:function(a){this._canShowTooltip&&(a=k.showClosableTooltip({node:a,message:c.mapLockTooltip,position:"left",onClosed:function(){g.userDismissedTooltip()}}),
this._tooltips.push(a))},userDismissedTooltip:function(){this._canShowTooltip=!1;this._tooltips.forEach(function(a){k.removeClosableTooltip(a)});this._tooltips.length=0}};d.setUpMapPan=function(a,c){if(a.root){var l=!0,e;f(a.root,"touchstart",function(b){if(l){var m=b.clientX,d=b.clientY;e=f(a.root,"touchmove",function(a){var b=a.clientX;a=a.clientY;c(m-b,d-a);m=b;d=a});f.once(a.root,"touchend, touchcancel",function(a){e.remove()})}});d._createLockButton(a.root,function(b){(l=b)?a.disableMapNavigation():
a.enableMapNavigation()})}};d._createLockButton=function(a,d){function c(a,c){e=a;h.remove(b,"locked unlocked");h.add(b,e?"locked":"unlocked");c&&d(e)}var e=!0,b=n.create("div",{"class":"mapNavigationLockButton locked"},a);g.tryShowTooltip(b);f(b,p.click,function(){g.userDismissedTooltip();c(!e,!0)});return{setLocked:function(a){c(a)}}};return d});